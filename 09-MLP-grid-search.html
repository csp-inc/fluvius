<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>09-MLP-grid-search.py &mdash; fluvius 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="10-compile-grid-search-results.py" href="10-compile-grid-search-results.html" />
    <link rel="prev" title="08-partition-data.py" href="08-partition-data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> fluvius
            <img src="_static/logo.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="00a-background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="00b-project-goals.html">Project goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="00c-requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="00d-quickstart.html">Quickstart</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Command Line Scripts (bin)</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01-usgs-station-acquire.html">01-usgs-station-acquire.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-preprocess-data.html">02-preprocess-data.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-image-join.html">03-image-join.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-data-merge.html">04-data-merge.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-prep-qa-chip-dataset.html">05-prep-qa-chip-dataset.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="06a-download-chips-for-qa.html">06a-download-chips-for-qa.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="06b-upload-good-chips-list.html">06b-upload-good-chips-list.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-remove-bad-obs.html">07-remove-bad-obs.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-partition-data.html">08-partition-data.py</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">09-MLP-grid-search.py</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Named Arguments">Named Arguments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="10-compile-grid-search-results.html">10-compile-grid-search-results.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="11-fit-top-model.html">11-fit-top-model.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="12-prediction-inputs.html">12-prediction-inputs.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="13-predict-tabular.html">13-predict-tabular.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="14-make-prediction-chips.html">14-make-prediction-chips.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="15-prep-data-for-app.html">15-prep-data-for-app.py</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fluvius</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>09-MLP-grid-search.py</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/09-MLP-grid-search.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mlp-grid-search-py">
<h1>09-MLP-grid-search.py<a class="headerlink" href="#mlp-grid-search-py" title="Permalink to this headline"></a></h1>
<p>This script performs the grid search for hyperparameter optimization and saves
loss statistics and other model information from each model that will be used to
identify the “best” model. Individual model results will be saved on the local
filesystem as JSON files in a folder named according to the arguments to this
script:
output/mlp/&lt;buffer-distance&gt;m_cloudthr&lt;cloud-thr&gt;_&lt;mask-method1&gt;&lt;mask-method2&gt;_masking_&lt;n-folds&gt;folds_seed&lt;seed&gt;/.
File names for each model output are shortened hashes based on the
hyperparameters for that given model.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usage: 09-MLP-grid-search.py [-h] [--n-workers N_WORKERS]
                             [--cloud-thr CLOUD_THR]
                             [--buffer-distance BUFFER_DISTANCE]
                             [--mask-method1 {lulc,scl}]
                             [--mask-method2 {mndwi,ndvi,}]
                             [--n-folds N_FOLDS] [--seed SEED]
</pre></div>
</div>
<section id="Named Arguments">
<h2>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline"></a></h2>
<dl class="option-list">
<dt><kbd>--n-workers</kbd></dt>
<dd><p>How many workers to use for fitting models in parallel (recommended not to go over number of physical cores)</p>
<p>Default: nan</p>
</dd>
<dt><kbd>--cloud-thr</kbd></dt>
<dd><p>Percent of cloud cover acceptable</p>
<p>Default: 80</p>
</dd>
<dt><kbd>--buffer-distance</kbd></dt>
<dd><p>Search radius to use for reflectance data aggregation</p>
<p>Default: 500</p>
</dd>
<dt><kbd>--mask-method1</kbd></dt>
<dd><p>Possible choices: lulc, scl</p>
<p>Which data to use for masking non-water, scl only (“scl”), or io_lulc plus scl (“lulc”)</p>
<p>Default: “lulc”</p>
</dd>
<dt><kbd>--mask-method2</kbd></dt>
<dd><p>Possible choices: mndwi, ndvi,</p>
<p>Which additional normalized index to use, if any, to update the mask</p>
<p>Default: “mndwi”</p>
</dd>
<dt><kbd>--n-folds</kbd></dt>
<dd><p>The number of folds to create for the training / validation set</p>
<p>Default: 5</p>
</dd>
<dt><kbd>--seed</kbd></dt>
<dd><p>The seed (an integer) used to initialize the pseudorandom number generator</p>
<p>Default: 123</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="08-partition-data.html" class="btn btn-neutral float-left" title="08-partition-data.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="10-compile-grid-search-results.html" class="btn btn-neutral float-right" title="10-compile-grid-search-results.py" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Conservation Science Partners.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>