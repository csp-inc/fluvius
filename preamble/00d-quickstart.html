<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quickstart &mdash; fluvius 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="../_static/dark_mode_css/dark.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/dark_mode_js/default_dark.js"></script>
        <script src="../_static/dark_mode_js/theme_switcher.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="01-usgs-station-acquire.py" href="../bin/01-usgs-station-acquire.html" />
    <link rel="prev" title="Requirements" href="00c-requirements.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> fluvius
            <img src="../_static/logo.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Home</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Fluvius</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00a-background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="00b-project-goals.html">Project goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="00c-requirements.html">Requirements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#secure-shell-ssh">Secure Shell (SSH)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ssh-key-gen">SSH key gen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connect-via-ssh">Connect via SSH</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Command Line Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bin/01-usgs-station-acquire.html">01-usgs-station-acquire.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/02-preprocess-data.html">02-preprocess-data.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/03-image-join.html">03-image-join.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/04-data-merge.html">04-data-merge.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/05-prep-qa-chip-dataset.html">05-prep-qa-chip-dataset.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/06a-download-chips-for-qa.html">06a-download-chips-for-qa.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/06b-upload-good-chips-list.html">06b-upload-good-chips-list.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/07-remove-bad-obs.html">07-remove-bad-obs.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/08-partition-data.html">08-partition-data.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/09-MLP-grid-search.html">09-MLP-grid-search.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/10-compile-grid-search-results.html">10-compile-grid-search-results.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/11-fit-top-model.html">11-fit-top-model.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/12-prediction-inputs.html">12-prediction-inputs.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/13-predict-tabular.html">13-predict-tabular.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/14-make-prediction-chips.html">14-make-prediction-chips.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bin/15-prep-data-for-app.html">15-prep-data-for-app.py</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Internals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">src</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">fluvius</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Quickstart</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/csp-inc/fluvius/blob/main/docs/source/preamble/00d-quickstart.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline"></a></h1>
<p>Given the technical nature of this cloud environment, here we describe a workflow where a user can connect to an Azure Virtual Machine and use the terminal similar to a local based server.</p>
<section id="secure-shell-ssh">
<h2>Secure Shell (SSH)<a class="headerlink" href="#secure-shell-ssh" title="Permalink to this headline"></a></h2>
<p>SSH or Secure Shell is a network communication protocol that enables two computers to communicate (c.f http or hypertext transfer protocol, which is the protocol used to transfer hypertext such as web pages) and share data. Depending on the user’s local machine operating system, there are various means to <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/mac-create-ssh-keys">connect via SSH into a running Azure VM</a>. Below we describe connecting through a Unix based OS (Linux or MacOSX).</p>
</section>
<section id="ssh-key-gen">
<h2>SSH key gen<a class="headerlink" href="#ssh-key-gen" title="Permalink to this headline"></a></h2>
<p>First one needs to create a key pair for the local machine to connect the VM. This can be done by opening a terminal and typing:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ssh-keygen -t rsa -b 4096 -f key-filename
</pre></div>
</div>
<figure class="align-default">
<img alt="https://fluviusdata.blob.core.windows.net/example/key_example.gif" src="https://fluviusdata.blob.core.windows.net/example/key_example.gif" />
</figure>
<p>This command will create two files, <code class="code docutils literal notranslate"><span class="pre">key-filename</span></code> which is the private key and <code class="code docutils literal notranslate"><span class="pre">key-filename.pub</span></code> which is the public key. The public key will be submitted to the VM to connect with the local machine and the <code class="code docutils literal notranslate"><span class="pre">key-filename</span></code> file is the private key that will confirm that prrof of the user’s identity that should live only on the local machine.</p>
<p>Public key submission can be provided to the Azure VM through the GUI, seen in the gif below.</p>
<figure class="align-default">
<img alt="https://fluviusdata.blob.core.windows.net/example/ssh_submission.gif" src="https://fluviusdata.blob.core.windows.net/example/ssh_submission.gif" />
</figure>
<p>Alternatively, one can add their public key and add a user to an existing VM using the <cite>Reset password</cite> blade on the Azure VM portal GUI. Note that this does not actually reset the password unless the user already exists. If you are adding a user that does not exist, this creates a new profile within the VM. This means multiple users can connect via ssh with their own unique key to a specific VM.</p>
<figure class="align-default">
<img alt="https://fluviusdata.blob.core.windows.net/example/add_user.gif" src="https://fluviusdata.blob.core.windows.net/example/add_user.gif" />
</figure>
</section>
<section id="connect-via-ssh">
<h2>Connect via SSH<a class="headerlink" href="#connect-via-ssh" title="Permalink to this headline"></a></h2>
<p>Once the key is generated and public key submitted to the VM, the user needs only start the VM and then connect via ssh from the terminal to the VM. This is now a virtual environment that can be accessed anywhere.</p>
<p>Go to the terminal and type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ssh -i $PUBLICKEYFILENAME\
    -L localhost:$PORT:$DNS:$PORT \
    $USER@$DNS
</pre></div>
</div>
<p>where the following variables are:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">$PUBLICKEYFILENAME</span></code> : The public key that you generated with ssh-keygen (e.g key-example.pub)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">$PORT</span></code> : The port that you wish to mount to the VM (e.g. 8888)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">$DNS</span></code> : The IP address for the VM or DNS name (e.g. vm-brazilsouth.cloudapp.azure.com)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">$USER</span></code> : The username associated to ssh-key (e.g. itv-user)</p></li>
</ul>
<p>Note that the <code class="code docutils literal notranslate"><span class="pre">$PORT</span></code> must be <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/nsg-quickstart-portal">added to the VM</a> and not already allocated by the local machine. This is commonly ‘8888’ or ‘8080’, but can be anything the user wants to share with the VM. This will be useful when connecting to a Jupyter Notebook instantiated by the VM.</p>
<p>Using a DNS name for $DNS is useful to not require a new dynamic IP address for the VM each time it is turned on. A DNS can be assign following this <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/custom-domain#add-custom-domain-to-vm-public-ip-address">guide</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="00c-requirements.html" class="btn btn-neutral float-left" title="Requirements" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../bin/01-usgs-station-acquire.html" class="btn btn-neutral float-right" title="01-usgs-station-acquire.py" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Conservation Science Partners.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>